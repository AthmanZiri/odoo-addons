<?xml version="1.0"?>
<openerp>
    <data>

	<!-- DBSource form -->
    <record model="ir.ui.view" id="view_import_dbsource_form">
      <field name="name">import.odbc.dbsource.form</field>
      <field name="model">import.odbc.dbsource</field>
      <field name="type">form</field>
      <field name="arch" type="xml">
		<form>
		    <field name="name"/>
		    <field name="password" password="True"/>
		    <field name="connector"/>
		    <field name="conn_string" colspan="4"/>
		    <label colspan="4" string="ODBC Sample: DRIVER={FreeTDS};SERVER=server.address;Database=mydb;UID=sa"/>
		    <label colspan="4" string="ORACLE Sample: username/%s@//server.address:port/instance"/>
			<button name="connection_test" string="Test Connection" type="object" icon="gtk-network"/>
        </form>
      </field>
    </record>

	<!-- Table form -->
    <record model="ir.ui.view" id="view_import_dbtable_form">
      <field name="name">import.odbc.dbtable.form</field>
      <field name="model">import.odbc.dbtable</field>
      <field name="type">form</field>
      <field name="arch" type="xml">
		<form>
		    <field name="name" search="1"/>
		    <field name="exec_order"/>
		    <field name="model_target"/>
		    <field name="dbsource_id" search="1"/>
		    <field name="noupdate"/>
		    <field name="enabled"/>
		    <field name="sql_source" colspan="4"/>

			<field name="last_record_count"/>
			<field name="last_error_count"/>
			<field name="last_log" colspan="4"/>
			<field name="last_run"/>
			<button name="import_run" string="Run Import" type="object" icon="gtk-execute"/><newline/>
			<field name="last_sync"/>
			<button name="import_schedule" string="Schedule Import" type="object" icon="gtk-paste"/>
        </form>
      </field>
    </record>

	<!-- Table Tree -->
	<record id="view_import_dbtable_tree" model="ir.ui.view">
        <field name="name">import.odbc.dbtable.tree</field>
		<field name="model">import.odbc.dbtable</field>
		<field name="type">tree</field>
		<field name="arch" type="xml">
			<tree colors="grey: enabled==False; red:last_error_count&gt;0"> 
				<field name="exec_order"/>
				<field name="name"/>
				<field name="model_target"/>
				<field name="dbsource_id"/>
				<field name="enabled"/>
				<field name="last_run"/>
				<field name="last_sync"/>
				<field name="last_record_count"/>
				<field name="last_error_count"/>
			</tree>
		</field>
	</record>

	
	<!-- Tree Search -->
       <record id="view_import_dbtable_filter" model="ir.ui.view">
            <field name="name">import.odbc.dbtable.filter</field>
			<field name="model">import.odbc.dbtable</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search ODBC Imports">
					<field name="name"/>
					<field name="dbsource_id"/>
					<field name="model_target"/>
               </search>
            </field>
        </record>

	<!--Menu-->
    <record model="ir.actions.act_window" id="action_import_dbtable">
      <field name="name">Import from ODBC</field>
      <field name="res_model">import.odbc.dbtable</field>
      <field name="view_type">form</field>
    </record>
    <menuitem name="Import from ODBC" id="menu_import_dbtable" parent="base.next_id_15" action="action_import_dbtable"/>
	</data>
</openerp>